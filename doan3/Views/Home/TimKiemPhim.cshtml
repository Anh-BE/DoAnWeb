@model IEnumerable<doan3.Models.Phim>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Kết quả tìm kiếm";

    var dsPhim = ViewBag.Result as List<doan3.Models.Phim>;
}



@if (dsPhim == null || dsPhim.Count == 0)
{
    <p class="no-result">Không tìm thấy phim nào phù hợp.</p>
}
else
{
    <div class="phim-container">

        @foreach (var s in dsPhim)
        {
            <div class="phim-card">

                <!-- POSTER -->
                <img src="@Url.Content("~/Content/HinhAnhSP/" + s.Poster)" class="phim-img" />

                <!-- INFO -->
                <div class="phim-info">

                    <p class="phim-title">
                        @(s.TenPhim.Length > 25 ? s.TenPhim.Substring(0, 25) + "..." : s.TenPhim)
                    </p>

                    <div class="phim-buttons">

                        <a href="@Url.Action("ChiTietPhim", "Home", new { id = s.PhimID })"
                           class="btn-small">
                            Chi Tiết
                        </a>

                        <a href="@Url.Action("Details", "BanHB", new { id = s.PhimID })"
                           class="btn-small">
                            Đặt Vé
                        </a>

                    </div>

                </div>
            </div>
        }
    </div>
}


<style>
    /* TITLE */
    .search-title {
        color: #ffeb00;
        text-align: center;
        margin: 25px 0;
        font-size: 26px;
        font-weight: 700;
    }

    .no-result {
        text-align: center;
        color: #ccc;
        font-size: 18px;
        margin-top: 20px;
    }

    /* ======== GRID Y CHANG PHIMDANGCHIEU ======== */
    .phim-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
        max-width: 1300px;
        margin: auto;
    }

    .phim-card {
        background-color: #1a1a2e;
        border-radius: 10px;
        overflow: hidden;
        text-align: center;
        color: white;
        transition: 0.3s ease;
    }

        .phim-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }

    .phim-img {
        width: 100%;
        height: 280px;
        object-fit: cover;
    }

    .phim-info {
        padding: 12px;
    }

    .phim-title {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 12px;
    }

    /* ======== NÚT NHỎ — GIỐNG PHIMDANGCHIEU ======== */

    .phim-buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
    }

    .btn-small {
        position: relative;
        display: inline-block;
        width: 80px; /* giống nút nhỏ trong hình bạn gửi */
        padding: 7px 0;
        font-size: 14px;
        font-weight: 600;
        background: #ffeb00;
        color: black;
        border-radius: 8px;
        text-decoration: none;
        overflow: hidden;
        z-index: 1;
        transition: 0.25s;
    }

        .btn-small::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, #7f00ff, #3a7bd5);
            transform: translateX(-100%);
            transition: transform 0.45s ease-in-out;
            border-radius: 8px;
            z-index: -1;
        }

        .btn-small:hover::before {
            transform: translateX(0);
        }

        .btn-small:hover {
            color: white !important;
        }
</style>
